<div>

  <mat-toolbar fxFlex="1 1 auto" class="photo-gallery-toolbar">

<!--
      (rejectedFiles)="onPhotoRejected($event)"
      (acceptedFiles)="onPhotoAdded($event)"
      (geolocatedPhotoLatLng)="geolocatedPhotoData($event)"
-->        
    <tb-dropfile-box
    ></tb-dropfile-box>

    <div >

      <span class="ui-component-menu-item" 
        *ngIf="getSelectedCount()>0"> 
          {{getSelectedCount()}} photo{{(getSelectedCount()>1) ? 's':''}}  sélectionnée{{(getSelectedCount()>1) ? 's':''}} 
      </span> 

      <button mat-button
        *ngIf="getSelectedCount()>0"
        (click)="bulkDownload()" 
        matTooltip="Télécharger les photos sélectionnées"
        matTooltipPosition="above">Télécharger</button>

      <button mat-button
        *ngIf="getSelectedCount()>0"
        matTooltip="Ajouter un tag aux photos sélectionnées"
        matTooltipPosition="above">Ajouter un tag</button>

      <button mat-button
        *ngIf="getSelectedCount()>0"
        (click)="openLinkOccurrenceDialog()" 
        matTooltip="Lier les photos sélectionnées à une observation existante"
        matTooltipPosition="above">Lier à une observation</button>

      <button mat-button
        *ngIf="getSelectedCount()>0"
        (click)="bulkDelete()" 
        matTooltip="Supprimer les photos sélectionnées"
        matTooltipPosition="above">Supprimer</button>

    </div>

  </mat-toolbar>

</div>

<div class="image-grid">

  <div class="image-grid-item"  *ngFor="let photo of resources" [ngClass]="( selected.includes(photo.id) ) ? 'highlight' : 'not-highlight'">
    <img class="image-placeholder" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII=" alt="" />
    <img class="gallery-image" src="{{photo.url}}" (click)="showDetail(photo)"/>
    <div><mat-checkbox (click)="onPhotoSelect(photo)"></mat-checkbox> {{photo.originalName}} </div>
  </div>
  
</div>


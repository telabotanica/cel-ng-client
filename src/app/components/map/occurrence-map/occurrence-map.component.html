<mat-drawer-container>

<div>

<mat-toolbar fxFlex="1 1 auto" style="justify-content: space-between;border-bottom: 1px none #ddd; background-color: #fff; box-shadow: 0 1px 2px 0 rgba(0, 0, 0, .15);">

  <div id="add-occurrence-button-container" [className]="isMobile ? 'floating-button' : ''">
    <button mat-raised-button color="primary" (click)="navigateToCreateOccurrenceForm()">Ajouter une observation</button>
  </div>

  <div >
    <span class="ui-component-menu-item " *ngIf="getSelectedCount()>0"> {{getSelectedCount()}} observation{{(getSelectedCount()>1) ? 's':''}}  sélectionnée{{(getSelectedCount()>1) ? 's':''}} - </span>


    <button mat-button
      *ngIf="isMobile"
      (click)="showFilters()"
      matTooltipClass="tooltip" 
      matTooltip="Filtrer les observations"
      matTooltipPosition="above"><mat-icon svgIcon="filter"></mat-icon></button>
 

    <button mat-button
      *ngIf="getSelectedCount()>0 && !isMobile"
      (click)="edit()" 
      matTooltip="Modifier les observations sélectionnées" 
      matTooltipClass="tooltip" 
      matTooltipPosition="above">Editer</button>

    <button mat-button
        *ngIf="!isMobile"
      (click)="openImportDialog()" 
      matTooltip="Importer un lot d’observations depuis un tableur (consulter le modèle de fichier dans les options)" 
      matTooltipClass="tooltip" 
      matTooltipPosition="above">Importer</button>

      <button mat-button
        *ngIf="isMobile"
        (click)="openImportDialog()" 
        matTooltip="Importer un lot d’observations depuis un tableur (consulter le modèle de fichier dans les options)" 
        matTooltipClass="tooltip" 
        matTooltipPosition="above"><mat-icon svgIcon="import"></mat-icon></button>

    <button mat-button
      *ngIf="getSelectedCount()>0  && !isMobile; else exportAllTemplate"
      matTooltip="Exporter toutes vos observations dans un tableur"
      matTooltipClass="tooltip" 
      matTooltipPosition="above">Exporter</button>

    <ng-template #exportAllTemplate>
    <button mat-button
      *ngIf="!isMobile"
      matTooltip="Exporter toutes vos observations dans un tableur"
      matTooltipClass="tooltip" 
      matTooltipPosition="above">Exporter Tout</button>
    </ng-template>

    <button mat-button
      *ngIf="getSelectedCount()>0 && !isMobile"
      (click)="generatePdfEtiquette()" 
      matTooltip="Créer des étiquettes d'herbier à partir des observations sélectionnées"
      matTooltipPosition="above">Etiquettes</button>

    <button mat-button
      *ngIf="getSelectedCount()>0 && !isMobile"
      (click)="bulkPublish()" 
      matTooltip="Rendre publiques les observations sélectionnées"
      matTooltipClass="tooltip" 
      matTooltipPosition="above">Publier</button>

    <button mat-button
      *ngIf="getSelectedCount()>0 && !isMobile"
      (click)="bulkUnpublish()" 
      matTooltip="Rendre privées les observations sélectionnées"
      matTooltipClass="tooltip" 
      matTooltipPosition="above">Dépublier</button>

    <button mat-button
      *ngIf="getSelectedCount()>0 && !isMobile"
      (click)="openConfirmDeletionDialog()" 
      matTooltip="Supprimer les observations sélectionnées"
      matTooltipClass="tooltip" 
      matTooltipPosition="above">Supprimer</button>


  </div>
</mat-toolbar>

  

</div>



<div id="map" class="map module-right-col-content">
</div>

  <mat-drawer #drawer mode="over" position="end" (closedStart)="onDrawerCloseStart()" (occurrenceDeletedEvent)="redrawMap()"
    [ngClass]="{
      'detail-drawer-mobile': isMobile,
      'detail-drawer': !isMobile }">
    <occurrence-list-detail #odl  > 
    </occurrence-list-detail>

  </mat-drawer>
<!-- [featuresToDisplay]="selected" -->

</mat-drawer-container>
